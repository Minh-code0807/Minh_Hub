loadstring(game:HttpGet("https://raw.githubusercontent.com/Minh-code0807/HUB/refs/heads/main/Help%20aotu%20farm%20bond"))()
wait (5)
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local TweenService = game:GetService("TweenService")

local player = Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")
local humanoidRootPart = character:WaitForChild("HumanoidRootPart")

-- CẤU HÌNH NÂNG CAO
local MOVEMENT_SPEED = 1000 -- Tốc độ di chuyển (studs/giây)
local SCAN_INTERVAL = 0.2 -- Thời gian giữa các lần quét
local ARRIVAL_THRESHOLD = 5 -- Khoảng cách đạt đích
local SCAN_RADIUS = 200 -- Bán kính quét bond
local MAX_CYCLES = 5 -- Số chu kỳ quét

-- Danh sách điểm đến
local WAYPOINTS = {
    Vector3.new(56.22, 3.00, 29941.12),
    Vector3.new(-428.75, 26.07, -49040.91)
}

-- Trạng thái hệ thống
local System = {
    Active = true,
    Scanning = false,
    CurrentTarget = nil,
    BondsCollected = 0,
    CurrentCycle = 1,
    GUI = nil
}

-- TẠO GIAO DIỆN NÂNG CAO
local function CreateEnhancedGUI()
    if System.GUI then System.GUI:Destroy() end

    local ui = Instance.new("ScreenGui")
    ui.Name = "AdvancedBondFarm"
    ui.Parent = player:WaitForChild("PlayerGui")

    local mainFrame = Instance.new("Frame")
    mainFrame.Size = UDim2.new(0.3, 0, 0.25, 0)
    mainFrame.Position = UDim2.new(0.02, 0, 0.7, 0)
    mainFrame.BackgroundColor3 = Color3.fromRGB(20, 25, 35)
    mainFrame.BackgroundTransparency = 0.15
    mainFrame.BorderSizePixel = 0

    -- Thêm các thành phần UI
    local title = Instance.new("TextLabel")
    title.Text = "⚡ BOND FARMER PRO ⚡"
    title.Font = Enum.Font.GothamBold
    title.TextSize = 18
    title.TextColor3 = Color3.new(1, 1, 1)
    title.Size = UDim2.new(1, 0, 0.15, 0)
    title.BackgroundTransparency = 1

    -- [Thêm các thành phần UI khác...]

    System.GUI = ui
end

-- HỆ THỐNG DI CHUYỂN THÔNG MINH
local function SmartMovement(target)
    humanoid.WalkSpeed = MOVEMENT_SPEED
    
    -- Tính toán hướng di chuyển
    local function UpdateDirection()
        local dir = (target - humanoidRootPart.Position).Unit
        humanoidRootPart.CFrame = CFrame.lookAt(humanoidRootPart.Position, humanoidRootPart.Position + dir)
        return dir
    end

    -- Di chuyển với kiểm tra liên tục
    local direction = UpdateDirection()
    humanoid:MoveTo(target)
    
    while System.Active do
        local distance = (humanoidRootPart.Position - target).Magnitude
        direction = UpdateDirection()
        
        -- Kiểm tra đến đích
        if distance < ARRIVAL_THRESHOLD then
            humanoid:MoveTo(humanoidRootPart.Position)
            break
        end
        
        -- Quét bond trong khi di chuyển
        if not System.Scanning then
            coroutine.wrap(function()
                System.Scanning = true
                local bond = FindNearestBond()
                if bond then
                    System.CurrentTarget = bond
                    CollectBond(bond)
                end
                System.Scanning = false
            end)()
        end
        
        RunService.Heartbeat:Wait()
    end
end

-- TÌM BOND GẦN NHẤT
local function FindNearestBond()
    local nearest = nil
    local minDistance = SCAN_RADIUS
    
    for _, obj in ipairs(workspace:GetDescendants()) do
        if obj:IsA("BasePart") and string.find(obj.Name:lower(), "bond") then
            local dist = (obj.Position - humanoidRootPart.Position).Magnitude
            if dist < minDistance then
                nearest = {
                    Part = obj,
                    Position = obj.Position,
                    Distance = dist
                }
                minDistance = dist
            end
        end
    end
    
    return nearest
end

-- THU THẬP BOND
local function CollectBond(bondData)
    System.CurrentTarget = bondData
    SmartMovement(bondData.Position)
    System.BondsCollected += 1
    System.CurrentTarget = nil
end

-- CHU TRÌNH CHÍNH
local function MainLoop()
    CreateEnhancedGUI()
    
    while System.Active and System.CurrentCycle <= MAX_CYCLES do
        for _, waypoint in ipairs(WAYPOINTS) do
            SmartMovement(waypoint)
            
            -- Quét kỹ tại điểm đến
            local bond = FindNearestBond()
            if bond then
                CollectBond(bond)
            end
            
            -- Cập nhật GUI
            UpdateGUI()
        end
        
        System.CurrentCycle += 1
    end
    
    print("Hoàn thành farm bond! Tổng cộng:", System.BondsCollected)
end

-- BẮT ĐẦU HỆ THỐNG
coroutine.wrap(MainLoop)()
