local player = game.Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoid = character:WaitForChild("Humanoid")
local rootPart = character:WaitForChild("HumanoidRootPart")
local userInputService = game:GetService("UserInputService")

-- Biến trạng thái
local isDown = true

-- Hàm úp xuống
local function faceDown()
	isDown = true
	humanoid.WalkSpeed = 0
	humanoid.JumpPower = 0
	humanoid.AutoRotate = false
	rootPart.Anchored = true
	rootPart.CFrame = rootPart.CFrame * CFrame.Angles(math.rad(90), 0, 0)
end

-- Hàm bật dậy
local function standUp()
	isDown = false
	rootPart.Anchored = false
	humanoid.AutoRotate = true
	humanoid.WalkSpeed = 16
	humanoid.JumpPower = 50
	-- Đưa nhân vật về tư thế đứng
	rootPart.CFrame = CFrame.new(rootPart.Position) * CFrame.Angles(0, rootPart.Orientation.Y, 0)
end

-- Khi nhấn phím nhảy (Space)
userInputService.InputBegan:Connect(function(input, gameProcessed)
	if gameProcessed then return end
	if input.KeyCode == Enum.KeyCode.Space then
		if isDown then
			standUp()
		end
	end
end)

-- Khi mới vào game → úp xuống
faceDown()
